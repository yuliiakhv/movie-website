{"ast":null,"code":"'use client';\n\"use strict\";\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all) __defProp(target, name, {\n    get: all[name],\n    enumerable: true\n  });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from)) if (!__hasOwnProp.call(to, key) && key !== except) __defProp(to, key, {\n      get: () => from[key],\n      enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable\n    });\n  }\n  return to;\n};\nvar __toCommonJS = mod => __copyProps(__defProp({}, \"__esModule\", {\n  value: true\n}), mod);\n\n// src/index.ts\nvar src_exports = {};\n__export(src_exports, {\n  useSize: () => useSize,\n  useSizes: () => useSizes\n});\nmodule.exports = __toCommonJS(src_exports);\nvar import_element_size = require(\"@zag-js/element-size\");\nvar import_react = require(\"react\");\nvar useSafeLayoutEffect = Boolean(globalThis == null ? void 0 : globalThis.document) ? import_react.useLayoutEffect : import_react.useEffect;\nfunction trackMutation(el, cb) {\n  var _a, _b;\n  if (!el || !el.parentElement) return;\n  const win = (_b = (_a = el.ownerDocument) == null ? void 0 : _a.defaultView) != null ? _b : window;\n  const observer = new win.MutationObserver(() => {\n    cb();\n  });\n  observer.observe(el.parentElement, {\n    childList: true\n  });\n  return () => {\n    observer.disconnect();\n  };\n}\nfunction useSizes({\n  getNodes,\n  observeMutation = true\n}) {\n  const [sizes, setSizes] = (0, import_react.useState)([]);\n  const [count, setCount] = (0, import_react.useState)(0);\n  useSafeLayoutEffect(() => {\n    const elements = getNodes();\n    const cleanups = elements.map((element, index) => (0, import_element_size.trackElementSize)(element, size => {\n      setSizes(sizes2 => {\n        return [...sizes2.slice(0, index), size, ...sizes2.slice(index + 1)];\n      });\n    }));\n    if (observeMutation) {\n      const firstNode = elements[0];\n      cleanups.push(trackMutation(firstNode, () => {\n        setCount(count2 => count2 + 1);\n      }));\n    }\n    return () => {\n      cleanups.forEach(cleanup => {\n        cleanup == null ? void 0 : cleanup();\n      });\n    };\n  }, [count]);\n  return sizes;\n}\nfunction isRef(ref) {\n  return typeof ref === \"object\" && ref !== null && \"current\" in ref;\n}\nfunction useSize(subject) {\n  const [size] = useSizes({\n    observeMutation: false,\n    getNodes() {\n      const node = isRef(subject) ? subject.current : subject;\n      return [node];\n    }\n  });\n  return size;\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  useSize,\n  useSizes\n});","map":{"version":3,"names":["src_exports","__export","useSize","useSizes","module","exports","__toCommonJS","import_element_size","require","import_react","useSafeLayoutEffect","Boolean","globalThis","document","useLayoutEffect","useEffect","trackMutation","el","cb","_a","_b","parentElement","win","ownerDocument","defaultView","window","observer","MutationObserver","observe","childList","disconnect","getNodes","observeMutation","sizes","setSizes","useState","count","setCount","elements","cleanups","map","element","index","trackElementSize","size","sizes2","slice","firstNode","push","count2","forEach","cleanup","isRef","ref","subject","node","current"],"sources":["W:\\xampp\\htdocs\\movie-website\\frontend\\node_modules\\@chakra-ui\\react-use-size\\src\\index.ts"],"sourcesContent":["import { trackElementSize, ElementSize } from \"@zag-js/element-size\"\nimport { useEffect, useLayoutEffect, useState } from \"react\"\n\nconst useSafeLayoutEffect = Boolean(globalThis?.document)\n  ? useLayoutEffect\n  : useEffect\n\nfunction trackMutation(el: HTMLElement | null, cb: () => void) {\n  if (!el || !el.parentElement) return\n  const win = el.ownerDocument?.defaultView ?? window\n  const observer = new win.MutationObserver(() => {\n    cb()\n  })\n  observer.observe(el.parentElement, { childList: true })\n  return () => {\n    observer.disconnect()\n  }\n}\n\nexport function useSizes<T extends HTMLElement | null>({\n  getNodes,\n  observeMutation = true,\n}: {\n  getNodes: () => T[]\n  observeMutation?: boolean\n}) {\n  const [sizes, setSizes] = useState<ElementSize[]>([])\n  const [count, setCount] = useState(0)\n\n  useSafeLayoutEffect(() => {\n    const elements = getNodes()\n\n    const cleanups = elements.map((element, index) =>\n      trackElementSize(element, (size) => {\n        setSizes((sizes) => {\n          return [\n            ...sizes.slice(0, index),\n            size,\n            ...sizes.slice(index + 1),\n          ] as ElementSize[]\n        })\n      }),\n    )\n\n    if (observeMutation) {\n      const firstNode = elements[0]\n      cleanups.push(\n        trackMutation(firstNode, () => {\n          setCount((count) => count + 1)\n        }),\n      )\n    }\n\n    return () => {\n      cleanups.forEach((cleanup) => {\n        cleanup?.()\n      })\n    }\n  }, [count])\n\n  return sizes as Array<ElementSize | undefined>\n}\n\nfunction isRef(ref: any): ref is React.RefObject<any> {\n  return typeof ref === \"object\" && ref !== null && \"current\" in ref\n}\n\nexport function useSize<T extends HTMLElement | null>(\n  subject: T | React.RefObject<T>,\n) {\n  const [size] = useSizes({\n    observeMutation: false,\n    getNodes() {\n      const node = isRef(subject) ? subject.current : subject\n      return [node]\n    },\n  })\n  return size as ElementSize | undefined\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAAA,WAAA;AAAAC,QAAA,CAAAD,WAAA;EAAAE,OAAA,EAAAA,CAAA,KAAAA,OAAA;EAAAC,QAAA,EAAAA,CAAA,KAAAA;AAAA;AAAAC,MAAA,CAAAC,OAAA,GAAAC,YAAA,CAAAN,WAAA;AAAA,IAAAO,mBAAA,GAA8CC,OAAA;AAC9C,IAAAC,YAAA,GAAqDD,OAAA;AAErD,IAAME,mBAAA,GAAsBC,OAAA,CAAQC,UAAA,oBAAAA,UAAA,CAAYC,QAAQ,IACpDJ,YAAA,CAAAK,eAAA,GACAL,YAAA,CAAAM,SAAA;AAEJ,SAASC,cAAcC,EAAA,EAAwBC,EAAA,EAAgB;EAP/D,IAAAC,EAAA,EAAAC,EAAA;EAQE,IAAI,CAACH,EAAA,IAAM,CAACA,EAAA,CAAGI,aAAA,EAAe;EAC9B,MAAMC,GAAA,IAAMF,EAAA,IAAAD,EAAA,GAAAF,EAAA,CAAGM,aAAA,KAAH,gBAAAJ,EAAA,CAAkBK,WAAA,KAAlB,OAAAJ,EAAA,GAAiCK,MAAA;EAC7C,MAAMC,QAAA,GAAW,IAAIJ,GAAA,CAAIK,gBAAA,CAAiB,MAAM;IAC9CT,EAAA,CAAG;EACL,CAAC;EACDQ,QAAA,CAASE,OAAA,CAAQX,EAAA,CAAGI,aAAA,EAAe;IAAEQ,SAAA,EAAW;EAAK,CAAC;EACtD,OAAO,MAAM;IACXH,QAAA,CAASI,UAAA,CAAW;EACtB;AACF;AAEO,SAAS3B,SAAuC;EACrD4B,QAAA;EACAC,eAAA,GAAkB;AACpB,GAGG;EACD,MAAM,CAACC,KAAA,EAAOC,QAAQ,QAAIzB,YAAA,CAAA0B,QAAA,EAAwB,EAAE;EACpD,MAAM,CAACC,KAAA,EAAOC,QAAQ,QAAI5B,YAAA,CAAA0B,QAAA,EAAS,CAAC;EAEpCzB,mBAAA,CAAoB,MAAM;IACxB,MAAM4B,QAAA,GAAWP,QAAA,CAAS;IAE1B,MAAMQ,QAAA,GAAWD,QAAA,CAASE,GAAA,CAAI,CAACC,OAAA,EAASC,KAAA,SACtCnC,mBAAA,CAAAoC,gBAAA,EAAiBF,OAAA,EAAUG,IAAA,IAAS;MAClCV,QAAA,CAAUW,MAAA,IAAU;QAClB,OAAO,CACL,GAAGA,MAAA,CAAMC,KAAA,CAAM,GAAGJ,KAAK,GACvBE,IAAA,EACA,GAAGC,MAAA,CAAMC,KAAA,CAAMJ,KAAA,GAAQ,CAAC,EAC1B;MACF,CAAC;IACH,CAAC,CACH;IAEA,IAAIV,eAAA,EAAiB;MACnB,MAAMe,SAAA,GAAYT,QAAA,CAAS,CAAC;MAC5BC,QAAA,CAASS,IAAA,CACPhC,aAAA,CAAc+B,SAAA,EAAW,MAAM;QAC7BV,QAAA,CAAUY,MAAA,IAAUA,MAAA,GAAQ,CAAC;MAC/B,CAAC,CACH;IACF;IAEA,OAAO,MAAM;MACXV,QAAA,CAASW,OAAA,CAASC,OAAA,IAAY;QAC5BA,OAAA,oBAAAA,OAAA;MACF,CAAC;IACH;EACF,GAAG,CAACf,KAAK,CAAC;EAEV,OAAOH,KAAA;AACT;AAEA,SAASmB,MAAMC,GAAA,EAAuC;EACpD,OAAO,OAAOA,GAAA,KAAQ,YAAYA,GAAA,KAAQ,QAAQ,aAAaA,GAAA;AACjE;AAEO,SAASnD,QACdoD,OAAA,EACA;EACA,MAAM,CAACV,IAAI,IAAIzC,QAAA,CAAS;IACtB6B,eAAA,EAAiB;IACjBD,SAAA,EAAW;MACT,MAAMwB,IAAA,GAAOH,KAAA,CAAME,OAAO,IAAIA,OAAA,CAAQE,OAAA,GAAUF,OAAA;MAChD,OAAO,CAACC,IAAI;IACd;EACF,CAAC;EACD,OAAOX,IAAA;AACT"},"metadata":{},"sourceType":"script","externalDependencies":[]}